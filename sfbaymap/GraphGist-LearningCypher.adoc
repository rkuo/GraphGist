= Learning Cypher

== Objectives

== Scenarios and Use Cases

== Solutions

// console
=== Data Models/Whiteboards
==== First Trial: Just Cities and Roads

image:https://raw.githubusercontent.com/rkuo/GraphGist/master/sfbaymap/images/Screen%20Shot%202014-08-28%20at%201.04.39%20AM%20sfbaymodel1simple.png[simple sfbay road map]

//console
[source, cypher]
----
CREATE (n01:City {name: 'Mountain View', population: 77646}), 	// towns around mountain view
	(n02:City {name: 'Palo Alto', population: 66642}),
	(n18:City {name: 'Sunnyvale', population: 147559}),
	(n14:City {name: 'Fremont', population: 224922}),
	(n15:City {name: 'Milpitas', population: 69783}),
	(n16:City {name: 'Santa Clara', population: 120245}),
	(n17:City {name: 'San Jose', population: 998537}),
	(n19:City {name: 'Cupertino', population: 60189}),
	(n26:City {name: 'Athetron', population: 7159}),

	// highway
	(n01)-[:connect_to {distance: 5.5}]->(n02),		// mtv - pa
	(n01)-[:connect_to {distance: 2.9}]->(n18),		// mtv - snyl
	(n02)-[:connect_to {distance: 4.2}]->(n26),		// pa - atht
	(n26)-[:connect_to {distance: 17.1, linkType: 'bridge', toll: 0}]->(n14),	// atht - frmt
	(n14)-[:connect_to {distance: 11.2}]->(n15),	// frmt - mlpt 
	(n16)-[:connect_to {distance: 5.1}]->(n18),		// stcl - snyl
	(n16)-[:connect_to {distance: 4.1}]->(n17),		// stcl - sjs
	(n16)-[:connect_to {distance: 7.4}]->(n19),		// stcl - cptn
	(n17)-[:connect_to {distance: 11.8}]->(n15),		// sjs - mlpt
	(n17)-[:connect_to {distance: 10.3}]->(n19),		// stcl - cptn
	(n18)-[:connect_to {distance: 9.9}]->(n15),		// snyl - mlpt 
	(n18)-[:connect_to {distance: 3.3}]->(n19),		// snyl - cptn

	// reverse direction
	(n02)-[:connect_to {distance: 5.5}]->(n01),		
	(n18)-[:connect_to {distance: 2.9}]->(n01),		
	(n26)-[:connect_to {distance: 4.2}]->(n02),		
	(n14)-[:connect_to {distance: 17.1, linkType: 'bridge', toll: 5}]->(n26),	
	(n15)-[:connect_to {distance: 11.2}]->(n14),	
	(n18)-[:connect_to {distance: 5.1}]->(n16),		
	(n17)-[:connect_to {distance: 4.1}]->(n16),		
	(n19)-[:connect_to {distance: 7.4}]->(n16),		
	(n17)-[:connect_to {distance: 11.8}]->(n15),	
	(n19)-[:connect_to {distance: 10.3}]->(n17),	
	(n15)-[:connect_to {distance: 9.9}]->(n18),		 
	(n19)-[:connect_to {distance: 3.3}]->(n18),		

	// train - northbound
	(n17)-[:train_to {distance: 4.1}]->(n16),		
	(n16)-[:train_to {distance: 5.1}]->(n18),		
	(n18)-[:train_to {distance: 2.9}]->(n01),		
	(n01)-[:train_to {distance: 5.5}]->(n02),		
	(n02)-[:train_to {distance: 4.2}]->(n26),		

	// train - southbound
	(n16)-[:train_to {distance: 4.0}]->(n17),	// dropped 0.1 mile		
	(n18)-[:train_to {distance: 5.1}]->(n16),		
	(n01)-[:train_to {distance: 2.9}]->(n18),		
	(n02)-[:train_to {distance: 5.5}]->(n01),		
	(n26)-[:train_to {distance: 4.2}]->(n02),		

	// Add special place in City School, Airport 
	(s01:School {name: 'Stanford University'}),
	(s02:School {name: 'Foothill Community College'}),
	(s03:School {name: 'San Jose State University'}),
	(s04:School {name: 'De Anza College'}),
	(s05:School {name: 'Santa Clara University'}),	
	(a01:Airport {name: 'Mineta San Jose International Airport'}),

	// Connect the places to City
	(n02)-[:has]->(s01), 
	(n01)-[:has]->(s02), 
	(n17)-[:has]->(s03), 
	(n19)-[:has]->(s04), 
	(n16)-[:has]->(s05), 
	(n17)-[:has]->(a01) 
----

This creates a small graph database for cities around SF bay area. 

== Query
[source, cypher]
----
MATCH (a:City {name: 'Mountain View'})-[:connect_to]->(b)
RETURN b.name
----

//table

//graph

